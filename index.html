<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>üéÑ Gi√°ng Sinh An L√†nh üéÑ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* --- C·∫•u tr√∫c c∆° b·∫£n --- */
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
      font-family: 'Segoe UI', sans-serif;
      color: white;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    header {
      text-align: center;
      padding-top: 20px;
      z-index: 10;
    }

    header h1 {
      font-size: 3rem;
      margin: 0 0 10px;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
      animation: glow 2s infinite alternate;
    }

    header p {
      font-size: 1.2rem;
      opacity: 0.9;
      margin: 0;
    }

    /* --- Hi·ªáu ·ª©ng ch·ªØ ph√°t s√°ng --- */
    @keyframes glow {
      from { text-shadow: 0 0 10px #fff, 0 0 20px #ff00de, 0 0 30px #ff00de; }
      to { text-shadow: 0 0 20px #fff, 0 0 30px #ff00de, 0 0 40px #ff00de; }
    }

    /* --- C√¢y th√¥ng (C·∫•u tr√∫c m·ªõi ƒë·ªÉ g·∫Øn ƒë√®n) --- */
    .tree-container {
      position: relative;
      margin-top: 40px;
      height: 400px;
      width: 300px;
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 5;
    }

    .layer {
      position: absolute;
      width: 0;
      height: 0;
      border-style: solid;
      border-color: transparent transparent #0f8a5f transparent;
    }

    .layer.top {
      top: 0;
      border-width: 0 60px 100px 60px;
      z-index: 3;
      border-bottom-color: #13a06f;
    }

    .layer.middle {
      top: 60px;
      border-width: 0 90px 140px 90px;
      z-index: 2;
      border-bottom-color: #0f8a5f;
    }

    .layer.bottom {
      top: 130px;
      border-width: 0 120px 180px 120px;
      z-index: 1;
      border-bottom-color: #0b6b4a;
    }

    .trunk {
      position: absolute;
      top: 310px;
      width: 50px;
      height: 70px;
      background: #5c3b1e;
      border-radius: 0 0 5px 5px;
      z-index: 0;
    }

    /* --- Ng√¥i sao --- */
    .star {
      position: absolute;
      top: -35px;
      font-size: 50px;
      color: gold;
      text-shadow: 0 0 20px #ffcc00;
      z-index: 10;
      animation: spin 4s linear infinite;
      cursor: pointer;
    }

    @keyframes spin {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(180deg) scale(1.1); }
      100% { transform: rotate(360deg) scale(1); }
    }

    /* --- ƒê√®n trang tr√≠ --- */
    .light {
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
      animation: blink 1.5s infinite alternate;
    }

    @keyframes blink {
      0% { opacity: 0.4; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1.2); }
    }

    /* --- Qu√† t·∫∑ng --- */
    .gifts-container {
      position: absolute;
      top: 350px;
      display: flex;
      justify-content: center;
      gap: 15px;
      z-index: 6;
    }

    .gift {
      width: 40px;
      height: 40px;
      background: #d32f2f;
      position: relative;
      cursor: pointer;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
      transition: transform 0.2s;
    }

    .gift::before { /* D·∫£i ruy bƒÉng d·ªçc */
      content: '';
      position: absolute;
      width: 8px;
      height: 100%;
      background: gold;
      left: 50%;
      transform: translateX(-50%);
    }

    .gift::after { /* D·∫£i ruy bƒÉng ngang */
      content: '';
      position: absolute;
      height: 8px;
      width: 100%;
      background: gold;
      top: 50%;
      transform: translateY(-50%);
    }

    .gift:hover {
      transform: translateY(-5px);
    }

    .gift.blue { background: #1976d2; }
    .gift.green { background: #388e3c; }

    /* --- Tuy·∫øt r∆°i --- */
    .snow {
      position: fixed;
      top: -20px;
      color: white;
      user-select: none;
      pointer-events: none;
      animation: fall linear infinite;
      z-index: 100;
    }

    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); }
    }

    /* --- √îng gi√† Noel bay --- */
    .santa-container {
      position: fixed;
      top: 100px;
      left: -200px;
      font-size: 40px;
      z-index: 4;
      animation: flySanta 15s linear infinite;
      pointer-events: none;
    }

    @keyframes flySanta {
      0% { left: -200px; top: 100px; transform: rotate(5deg); }
      25% { top: 50px; }
      50% { top: 120px; }
      75% { top: 60px; }
      100% { left: 110%; top: 100px; transform: rotate(-5deg); }
    }

    /* --- Footer & Controls --- */
    footer {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.8;
      z-index: 10;
    }

    .controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 20;
    }

    button {
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid white;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 1rem;
      backdrop-filter: blur(5px);
      transition: background 0.3s;
    }

    button:hover {
      background: rgba(255, 255, 255, 0.4);
    }

    /* --- Th√¥ng b√°o --- */
    #message-box {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: white;
      color: #333;
      padding: 20px 40px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      z-index: 1000;
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    #message-box.show {
      transform: translate(-50%, -50%) scale(1);
    }
    
    #message-box h2 { color: #d32f2f; margin-top: 0; }
    #message-box button {
      background: #0f8a5f;
      margin-top: 15px;
    }

  </style>
</head>
<body>

  <!-- Audio (Nh·∫°c n·ªÅn) -->
  <audio id="bg-music" loop>
    <!-- S·ª≠ d·ª•ng link nh·∫°c m·∫´u (Jingle Bells) -->
    <source src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Jingle_Bells_by_Kevin_MacLeod.ogg" type="audio/ogg">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t nh·∫°c.
  </audio>

  <header>
    <h1>üéÖ Merry Christmas üéÑ</h1>
    <p>Ch√∫c b·∫°n m·ªôt m√πa Gi√°ng Sinh ·∫•m √°p v√† an l√†nh! ‚ú®</p>
  </header>

  <!-- Container c√¢y th√¥ng v√† qu√† -->
  <div class="tree-container">
    <div class="star" onclick="toggleMusic()">‚≠ê</div>
    
    <!-- C√°c t·∫ßng l√° -->
    <div class="layer top" id="layer-top"></div>
    <div class="layer middle" id="layer-middle"></div>
    <div class="layer bottom" id="layer-bottom"></div>
    
    <!-- Th√¢n c√¢y -->
    <div class="trunk"></div>

    <!-- H·ªôp qu√† -->
    <div class="gifts-container">
      <div class="gift" onclick="openGift('Ch√∫c b·∫°n lu√¥n vui v·∫ª v√† h·∫°nh ph√∫c! ‚ù§Ô∏è')"></div>
      <div class="gift blue" onclick="openGift('NƒÉm m·ªõi v·∫°n s·ª± nh∆∞ √Ω! üí∞')"></div>
      <div class="gift green" onclick="openGift('S·ª©c kh·ªèe d·ªìi d√†o, b√¨nh an! üçÄ')"></div>
    </div>
  </div>

  <!-- √îng gi√† Noel bay -->
  <div class="santa-container">üéÖü¶åüí®</div>

  <!-- Footer -->
  <footer>
    ‚ùÑÔ∏è Click v√†o Ng√¥i Sao ƒë·ªÉ b·∫≠t nh·∫°c ‚Ä¢ Click v√†o H·ªôp Qu√† ƒë·ªÉ nh·∫≠n l·ªùi ch√∫c ‚ùÑÔ∏è
  </footer>

  <!-- N√∫t ƒëi·ªÅu khi·ªÉn nh·∫°c g√≥c ph·∫£i -->
  <div class="controls">
    <button id="music-btn" onclick="toggleMusic()">üéµ B·∫≠t Nh·∫°c</button>
  </div>

  <!-- Popup l·ªùi ch√∫c -->
  <div id="message-box">
    <h2>üéÅ ƒêi·ªÅu ∆∞·ªõc cho b·∫°n</h2>
    <p id="msg-content">...</p>
    <button onclick="closeGift()">C·∫£m ∆°n!</button>
  </div>

  <script>
    /* --- T·∫°o tuy·∫øt r∆°i --- */
    function createSnow() {
      const snow = document.createElement('div');
      snow.classList.add('snow');
      snow.innerHTML = Math.random() > 0.5 ? '‚ùÑ' : '‚Ä¢'; // ƒêa d·∫°ng h√¨nh d√°ng
      
      const startLeft = Math.random() * window.innerWidth;
      snow.style.left = startLeft + 'px';
      
      const size = Math.random() * 15 + 5;
      snow.style.fontSize = size + 'px';
      snow.style.opacity = Math.random();
      
      const duration = Math.random() * 5 + 3;
      snow.style.animationDuration = duration + 's';

      document.body.appendChild(snow);

      // X√≥a tuy·∫øt sau khi r∆°i xong ƒë·ªÉ tr√°nh n·∫∑ng m√°y
      setTimeout(() => snow.remove(), duration * 1000);
    }
    setInterval(createSnow, 100);

    /* --- G·∫Øn ƒë√®n l√™n c√¢y --- */
    function addLights(layerId, count, spreadX, startY) {
      const layer = document.getElementById(layerId);
      const colors = ['red', 'yellow', 'cyan', 'magenta', 'orange'];
      
      for(let i=0; i<count; i++) {
        const light = document.createElement('div');
        light.classList.add('light');
        
        // V·ªã tr√≠ ng·∫´u nhi√™n t∆∞∆°ng ƒë·ªëi ƒë∆°n gi·∫£n tr√™n h√¨nh tam gi√°c
        // L∆∞u √Ω: ƒê√¢y l√† position absolute so v·ªõi layer cha (v·ªën k√≠ch th∆∞·ªõc 0x0 nh∆∞ng border to)
        // Ta d√πng trick transform translate ƒë·ªÉ ƒë·∫∑t v·ªã tr√≠.
        
        // Random v·ªã tr√≠ '·∫£o' tr√™n tam gi√°c
        // Layer Top: border-bottom 100px, width total ~120px
        const y = Math.random() * (startY); 
        // C√†ng xu·ªëng th·∫•p (y l·ªõn), x c√†ng r·ªông
        const xRange = (y / startY) * spreadX; 
        const x = (Math.random() * xRange * 2) - xRange; // T·ª´ -xRange ƒë·∫øn +xRange

        // Ch·ªânh l·∫°i t·ªça ƒë·ªô v√¨ border css v·∫Ω t·ª´ t√¢m 0,0
        // border-top l√† 0. ƒê·ªânh tam gi√°c ·ªü (0,0). ƒê√°y ·ªü (0, chi·ªÅu_cao).
        // Tuy nhi√™n border css l·∫±ng nh·∫±ng, ta d√πng 'top' v√† 'left' t∆∞∆°ng ƒë·ªëi
        
        // C√°ch ƒë∆°n gi·∫£n h∆°n: ƒë·∫∑t th·ªß c√¥ng ho·∫∑c d√πng style
        light.style.top = (y + 10) + 'px'; // +10 ƒë·ªÉ kh√¥ng b·ªã s√°t ƒë·ªânh qu√°
        light.style.left = x - 5 + 'px'; // -5 do width ƒë√®n 10px
        
        // M√†u ng·∫´u nhi√™n
        light.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        light.style.boxShadow = `0 0 5px ${light.style.backgroundColor}`;
        
        // Animation delay ng·∫´u nhi√™n ƒë·ªÉ kh√¥ng nh·∫•p nh√°y c√πng l√∫c
        light.style.animationDelay = Math.random() + 's';
        
        layer.appendChild(light);
      }
    }

    // G·∫Øn ƒë√®n cho t·ª´ng t·∫ßng (∆∞·ªõc l∆∞·ª£ng chi·ªÅu cao border-bottom)
    // Top: cao 100, r·ªông 60 m·ªói b√™n
    addLights('layer-top', 8, 40, 80);
    // Middle: cao 140, r·ªông 90 m·ªói b√™n
    addLights('layer-middle', 12, 70, 120);
    // Bottom: cao 180, r·ªông 120 m·ªói b√™n
    addLights('layer-bottom', 16, 100, 150);


    /* --- X·ª≠ l√Ω Nh·∫°c --- */
    const audio = document.getElementById('bg-music');
    const musicBtn = document.getElementById('music-btn');
    let isPlaying = false;

    function toggleMusic() {
      if (isPlaying) {
        audio.pause();
        musicBtn.textContent = 'üéµ B·∫≠t Nh·∫°c';
        musicBtn.style.background = 'rgba(255,255,255,0.2)';
      } else {
        audio.play().catch(e => alert("H√£y click v√†o trang tr∆∞·ªõc ƒë·ªÉ tr√¨nh duy·ªát cho ph√©p ph√°t nh·∫°c!"));
        musicBtn.textContent = '‚è∏ T·∫Øt Nh·∫°c';
        musicBtn.style.background = 'rgba(15, 138, 95, 0.8)';
      }
      isPlaying = !isPlaying;
    }

    /* --- X·ª≠ l√Ω Qu√† --- */
    const msgBox = document.getElementById('message-box');
    const msgContent = document.getElementById('msg-content');

    function openGift(message) {
      msgContent.textContent = message;
      msgBox.classList.add('show');
    }

    function closeGift() {
      msgBox.classList.remove('show');
    }

  </script>
</body>
</html>